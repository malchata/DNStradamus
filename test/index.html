<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>
      DNStradamus Test
    </title>
    <style>
      * {
        box-sizing: border-box;
        font-family: sans-serif;
        text-align: center;
      }

      #add-links {
        font-size: 1.5rem;
        cursor: pointer;
        margin: 0 0 48rem;
      }

      a {
        display: block;
        margin: 0 0 48rem;
        text-align: center;
        font-size: 1.5rem;
      }
    </style>
  </head>
  <body>
    <a rel="noopener" href="https://alistapart.com/">A List Apart</a>
    <a rel="noopener" href="https://css-tricks.com/">CSS-Tricks</a>
    <a rel="noopener" href="https://www.smashingmagazine.com">Smashing Magazine</a>
    <a rel="noopener" href="https://jeremy.codes/">jeremy.codes</a>
    <a rel="noopener" href="https://github.com/">Github</a>
    <button id="add-links">Add more links to DOM</button>
    <div id="new-links"></div>
    <script src="https://polyfill.io/v2/polyfill.min.js?features=IntersectionObserver"></script>
    <script src="/js/dnstradamus.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        dnstradamus({
          observeChanges: true
        });
      });

      // Stuff for testing MutationObserver functionality
      document.addEventListener("DOMContentLoaded", function() {
        var addLinksButton = document.getElementById("add-links");
        var newLinksContainer = document.getElementById("new-links");

        addLinksButton.addEventListener("click", function(event) {
          var linkText = "<a rel=\"noopener\" href=\"https://twitter.com/\">Twitter</a>";
          linkText += "<a rel=\"noopener\" href=\"https://news.google.com/\">Google News</a>";
          linkText += "<a rel=\"noopener\" href=\"https://w3c.github.io/\">W3C on Github</a>";
          linkText += "<a rel=\"noopener\" href=\"http://thecureforhiccups.com/\">The Cure for Hiccups</a> (non-HTTPS)";
          linkText += "<a rel=\"noopener\" href=\"https://legendarytones.com/\">Legendary Tones</a>";

          newLinksContainer.innerHTML = linkText;
          document.body.removeChild(event.target);
        });
      });
    </script>
  </body>
</html>
